https://github.com/Araldius/LAB_WEEK_11_A
https://github.com/Araldius/LAB_WEEK_11_B

Assignment:
Answer these questions based on Part 3 of the tutorial:
1. When a user takes a picture, that picture is stored in a path based on the given
URI. In which part of the code handles this? (Copy that part of the code as the
answer)
2. In your FileInfo.kt, there are 5 attributes. On the first attribute, what does the URI
refer to? And on the fourth attribute, what does relativePath refer to?
3. [Bonus] Explain the chronological order from when a user takes a picture until
the file is stored in the MediaStore.

Answer:
1. The code handling this is located in ProviderFileManager.kt:
private fun insertToStore (fileInfo: FileInfo, contentUri: Uri, contentValues: ContentValues) {
    executor.execute {
        val insertedUri = contentResolver.insert(contentUri, contentValues)
        insertedUri?.let {
            val inputStream = contentResolver.openInputStream(fileInfo.uri)
            val outputStream = contentResolver.openOutputStream(insertedUri)
            IOUtils.copy(inputStream, outputStream)
        }
    }
}

2. 
- First attribute (URI): The URI refers to the temporary content URI generated by the FileProvider, which allows the camera application to securely access the file location within the app's private storage.
- Fourth attribute (relativePath): The relativePath refers to the destination path within the public external storage (e.g., Pictures/ or Movies/) where the file will be organized and displayed in the MediaStore.

3. Chronological Order:
1. User clicks the Photo Button.
2. Permission check runs (if Android < 10).
3. openImageCapture() is called.
4. providerFileManager.generatePhotoUri() creates a file in internal storage and wraps it in a FileProvider URI.
5. The Camera Activity is launched using this URI.
6. User takes a photo; the camera app writes data to the URI.
7. The result callback (takePictureLauncher) is triggered.
8. providerFileManager.insertImageToStore() is called.
9. insertToStore() runs on a background thread.
10. It inserts a new record into MediaStore.
11. It opens streams and copies the actual image data from the temporary file to the MediaStore location.